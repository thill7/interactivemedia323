<!DOCTYPE html>
<html lang='en'>
<head>
	<title>Level 5, 4</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta charset="UTF-8">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<style>
	body {
		overflow-x:hidden;
		
	}
	#viewport {
		background-color: black;
		width:100%;
		height:200vh;
		overflow: auto;
		box-shadow: 0 -10px  10px black;
	}
	#poemHolder {
		width:50%;
		left:25%;
		position: absolute;
		text-align: center;
		height:80vw;
		top:5vh;
		transition: all 120s ease;

	}
	.poemWord {
		color: white;
		font-size: 2vw;
		position:relative;
		transition: all 4s ease;
		left:0;
		top:0;
	}
	@keyframes appear {
		from {opacity:0;}
		to {opacity:1;}
	}
</style>
<script>
$(document).ready( function() {
var poem = "Whose woods these are I think I know. His house is in the village though; He will not see me stopping here To watch his woods fill up with snow. My little horse must think it queer To stop without a farmhouse near Between the woods and frozen lake The darkest evening of the year. He gives his harness bells a shake To ask if there is some mistake. The only other soundâ€™s the sweep Of easy wind and downy flake. The woods are lovely, dark and deep, But I have promises to keep, And miles to go before I sleep, And miles to go before I sleep.";
poem = poem.split(" ");
var length = poem.length;
var curDelay = 0;
var curRow = 0;
for(let i = 0; i < length; i++) {
	$("<span>").addClass("poemWord").html(poem[i]+"&nbsp;&nbsp;").appendTo("#poemHolder");
	if((i != length - 1) && poem[i+1][0] == poem[i+1][0].toUpperCase() && poem[i+1] != "I") {
		$("#poemHolder").html($("#poemHolder").html() + "<br />");
		curRow++;
	}
	if(curRow % 4 == 0 && curRow != 0) {
		if((i != length - 1) && poem[i+1][0] == poem[i+1][0].toUpperCase() && poem[i+1] != "I") {
		$("#poemHolder").html($("#poemHolder").html() + "<br />");
	}
	}
	curDelay += 0.25;
	$(".poemWord").on("mouseover", function(e) {
		var newXRight = 200;
		var newXLeft = -200;
		var newYTop = -200;
		var newYBottom = 200;
		console.log($(this).offset().left + ($(this).width() / 2));
		console.log(e.pageX);
	if($(this).offset().left + ($(this).width() / 2) <= e.pageX) {
		if($(this).offset().top + ($(this).height() / 2) <= e.pageY) {
			$(this).css({"left":newXLeft+"px","top":newYTop+"px"});
		}
		else {
			$(this).css({"left":newXLeft+"px","top":newYBottom+"px"});
		}
		}
	else {
		if($(this).offset().top + ($(this).height() / 2) <= e.pageY) {
			$(this).css({"left":newXRight+"px","top":newYTop+"px"});
		}
		else {
			$(this).css({"left":newXRight+"px","top":newYBottom+"px"});
		}
	}
	});
}
setInterval(function(){
		$(".poemWord").css({"left":"0","top":"0"});
	}, 20000);
function snowFall() {
var randX = $("#poemHolder").offset().left + Math.floor(Math.random() * $("#poemHolder").width());
var curr = $("<div>").css({"position":"absolute","background-color":"white","border":"0px solid white","border-radius":"50%","width":"2vw","height":"2vw","left":randX+"px", "top":"-2vw","transition":"all 0.25s ease","animation":"snowFall 20s ease"});
$(curr).appendTo("#poemHolder");


}
});

</script>
<body>
<nav><a href='./index1.html'>First</a>&nbsp;&nbsp;//&nbsp;&nbsp;<a href='./index2.html'>Second</a>&nbsp;&nbsp;//&nbsp;&nbsp;<a href='./index3.html'>Third</a>&nbsp;&nbsp;//&nbsp;&nbsp;<a href='index4.html'>Fourth</a>&nbsp;&nbsp;//&nbsp;&nbsp;<a href='./index5.html'>Fifth</a>
</nav>
<br />
<!-- Can use h1, h2, h3, h4, h5, h6, strong, em, ol, ul, li, a, div, span, border, margin, position, display, float, top, right, bottom, left, height, width, font properties, tex-align, line-height, letter-spacing text-transform -->
<div id="viewport">
	<div id="poemHolder">
	</div>
</div>
</body>
</html>
